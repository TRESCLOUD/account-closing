<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--<template id="assets_common" name="account_multicurrency_revaluation assets_specific" inherit_id="report.assets_common">
        <xpath expr="." position="inside">
            <link href="/account_multicurrency_revaluation/static/src/css/reports.css" rel="stylesheet"/>
        </xpath>
    </template>-->

    <template id="curr_unrealized">
        <t t-call="report.html_container">
            <t t-call="report.internal_layout">
                <div class="page">
                    <style type="text/css">
                        .body, table, td, span, div {
                        font-family: Helvetica, Arial;
                        }
                        .act_as_table {
                        display: table;
                        }
                        .act_as_row  {
                        display: table-row;
                        }
                        .act_as_cell {
                        display: table-cell;
                        }
                        .act_as_thead {
                        display: table-header-group;
                        }
                        .act_as_tbody {
                        display: table-row-group;
                        }
                        .act_as_tfoot {
                        display: table-footer-group;
                        }
                        .act_as_caption {
                        display: table-caption;
                        }
                        act_as_colgroup {
                        display: table-column-group;
                        }
                        .list_table, .data_table {
                        width: 690px;
                        table-layout: fixed
                        }
                        .bg, .act_as_row.labels {
                        background-color:#F0F0F0;
                        }
                        .list_table, .data_table, .list_table .act_as_row {
                        border-left:0px;
                        border-right:0px;
                        text-align:left;
                        font-size:9px;
                        padding-right:3px;
                        padding-left:3px;
                        padding-top:2px;
                        padding-bottom:2px;
                        border-collapse:collapse;
                        }
                        .list_table .act_as_row.labels, .list_table .act_as_row.initial_balance, .list_table .act_as_row.lines {
                        border-color:gray;
                        border-bottom:1px solid lightGrey;
                        }
                        .data_table .act_as_cell {
                        border: 1px solid lightGrey;
                        text-align: center;
                        }
                        .data_table .act_as_cell, .list_table .act_as_cell {
                        word-wrap: break-word;
                        }
                        .data_table .act_as_row.labels {
                        font-weight: bold;
                        }
                        .initial_balance .act_as_cell {
                        font-style:italic;
                        }
                        .account_title {
                        font-size:10px;
                        font-weight:bold;
                        page-break-after: avoid;
                        }
                        .act_as_cell.amount {
                        word-wrap:normal;
                        text-align:right;
                        }
                        .list_table .act_as_cell{
                        padding-left: 5px;
                        /*    border-right:1px solid lightGrey;  uncomment to active column lines */
                        }
                        .list_table .act_as_cell.first_column {
                        padding-left: 0px;
                        /*    border-left:1px solid lightGrey; uncomment to active column lines */
                        }
                        .sep_left {
                        border-left: 1px solid lightGrey;
                        }
                        .account_level_1 {
                        text-transform: uppercase;
                        /*font-weight: bold;*/
                        font-size: 15px;
                        background-color:#F0F0F0;
                        }
                        /*
                        .account_level_1 .act_as_cell {
                        height: 30px;
                        vertical-align: bottom;
                        }
                        */
                        .account_level_2 {
                        /*text-transform: uppercase;
                        font-weight: bold;*/
                        font-size: 12px;
                        background-color:#F0F0F0;
                        }
                        /*
                        .account_level_2 .act_as_cell {
                        height: 20px;
                        vertical-align: bottom;
                        }
                        .account_level_3 {
                        text-transform: uppercase;
                        font-weight: bold;
                        font-size: 11px;
                        background-color:#FAFAFA;
                        }
                        .account_level_4 {
                        font-weight: bold;
                        font-size: 11px;
                        }
                        */
                        .account_level_5 {
                        }
                        .regular_account_type {
                        font-weight: normal;
                        }
                        .view_account_type {
                        font-weight: bold;
                        .account_level_consol {
                        font-weight: normal;
                        font-style: italic;
                        }
                        .overflow_ellipsis {
                        text-overflow: ellipsis;
                        overflow: hidden;
                        white-space: nowrap;
                        }
                    </style>
                    <div class="act_as_table data_table">
                        <div class="act_as_row labels">
                            <div class="act_as_cell">Report</div>
                            <div class="act_as_cell">Company</div>
                            <div class="act_as_cell">Company currency</div>
                        </div>
                        <div class="act_as_row">
                            <div class="act_as_cell">Currency Gain and Loss</div>
                            <div class="act_as_cell"><span t-field="user.company_id.name"/></div>
                            <div class="act_as_cell"><span t-field="user.company_id.currency_id.name"/></div>
                        </div>
                    </div>
                    <t t-foreach="docs" t-as="account">
                        <t t-set="sh_acc" t-value="shell_accounts[account.id]"/>
                        <div class="act_as_table list_table" style="margin-top: 10px;">
                            <div class="act_as_caption account_title">
                                <span t-esc="account.code"/> - <span t-esc="account.name"/>
                            </div>
                            <div class="act_as_thead">
                                <div class="act_as_row labels">
                                    <div class="act_as_cell first_column">Partner</div>
                                    <div class="act_as_cell first_column amount" style="width: 100px;">Curr. Balance YTD</div>
                                    <div class="act_as_cell first_column amount" style="width: 50px;"></div>
                                    <div class="act_as_cell first_column amount" style="width: 80px;">Revaluation Rate</div>
                                    <div class="act_as_cell first_column amount" style="width: 150px;">Revaluated Amount YTD</div>
                                    <div class="act_as_cell first_column amount" style="width: 100px;">Balance YTD</div>
                                    <div class="act_as_cell first_column amount" style="width: 100px;">Gain(+)/Loss(-) YTD</div>
                                </div>
                                <t t-foreach="sh_acc.ordered_lines" t-as="line">
                                    <div class="act_as_row lines">
                                        <div class="act_as_cell">
                                            <span t-esc="line.get('name') or '--'"/>
                                        </div>
                                        <div class="act_as_cell amount" style="width: 100px;">
                                            <span t-esc="line.get('gl_foreign_balance') or 0.0"/>
                                        </div>
                                        <div class="act_as_cell" style="width: 50px;">
                                            <span t-esc="line.get('curr_name') or '--'"/>
                                        </div>
                                        <div class="act_as_cell amount" style="width: 80px;">
                                            <span t-esc="line.get('gl_currency_rate') or 0.0"/>
                                        </div>
                                        <div class="act_as_cell amount" style="width: 150px;">
                                            <span t-esc="line.get('gl_revaluated_balance') or 0.0"/>
                                        </div>
                                        <div class="act_as_cell amount" style="width: 100px;">
                                            <t t-if="line.get('gl_balance')">
                                                <span t-esc="line.get('gl_balance')"/>
                                            </t>
                                            <t t-if="not line.get('gl_balance')">0.0</t>
                                        </div>
                                        <div class="act_as_cell amount" style="width: 100px;">
                                            <span t-esc="line.get('gl_ytd_balance') or 0.0"/>
                                        </div>
                                    </div>
                                </t>
                                <div class="act_as_row lines labels">
                                    <div class="act_as_cell"><b>TOTAL</b></div>
                                    <div class="act_as_cell"></div>
                                    <div class="act_as_cell"></div>
                                    <div class="act_as_cell"></div>
                                    <div class="act_as_cell amount">
                                        <b>
                                            <span t-esc="sh_acc.gl_revaluated_balance_total or 0.0"/>
                                        </b>
                                    </div>
                                    <div class="act_as_cell amount">
                                        <b>
                                            <span t-esc="sh_acc.gl_balance_total or 0.0"/>
                                        </b>
                                    </div>
                                    <div class="act_as_cell amount">
                                        <b>
                                            <span t-esc="sh_acc.gl_ytd_balance_total or 0.0"/>
                                        </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>
</odoo>
